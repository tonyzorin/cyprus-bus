<!DOCTYPE html>
<html>
<head>
    <title>Cyprus Buses Live</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Make the map container full screen */
        #map {
            height: 90vh; /* Use 100% of the viewport height */
            width: 100vw; /* Use 100% of the viewport width */
            position: absolute; /* Optional: Makes the map more responsive to screen size changes */
            top: 0;
            left: 0;
        }
        body, html {
            height: 100%; /* Ensure the body and html take the full height of the viewport */
            margin: 0; /* Remove default margin */
            padding: 0; /* Remove default padding */
        }
        h3 {
            position: absolute;
            z-index: 1000; /* Ensure the heading appears above the map */
            margin-left: 60px; /* Adjust as needed */
            background-color: white; /* Make it visible on top of the map */
            padding: 5px;
            border-radius: 5px;
        }
        .marker {
            transform: perspective(40px) rotateX(20deg) rotateZ(-45deg);
            transform-origin: 50% 50%;
            border-radius: 50% 50% 50% 0;
            padding: 0 0 0 0;
            width: 40px;
            height: 40px;
            background: #ed1f34;
            position: absolute;
            left: 50%;
            top: 50%;
            margin: -2.2em 0 0 -1.3em;
            -webkit-box-shadow: -1px 1px 4px rgba(0, 0, 0, .5);
            -moz-box-shadow: -1px 1px 4px rgba(0, 0, 0, .5);
            box-shadow: -1px 1px 4px rgba(0, 0, 0, .5);
        }

        .beacon-effect::before {
            content: '';
            display: block;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 255, 0.3); // Blue color
        border-radius: 50%;
            animation: pulse-animation 2s infinite;
        }

        @keyframes pulse-animation {
            0% { transform: scale(0.5); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        .marker:after {
            content: '';
            width: 1em;
            height: 1em;
            margin: 1em 0 0 .7em;
            background: #ffffff;
            position: absolute;
            border-radius: 50%;
            -moz-box-shadow: 0 0 10px rgba(0, 0, 0, .5);
            -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, .5);
            box-shadow: 0 0 10px rgba(0, 0, 0, .5);
            -moz-box-shadow: inset -2px 2px 4px hsla(0, 0, 0, .5);
            -webkit-box-shadow: inset -2px 2px 4px hsla(0, 0, 0, .5);
            box-shadow: inset -2px 2px 4px hsla(0, 0, 0, .5);
        }
        .beacon {
            position: absolute;
            top: 0;
            left: 0;
            height: 50px; /* The beacon effect will be slightly larger than the icon */
            width: 50px;
            border-radius: 50%;
            transform: translate(0%, 0%);
            z-index: 1; /* Lower than the icon */
        }
        .user-icon {
            width: 50px; /* Width of the user icon */
            height: 50px; /* Height of the user icon */
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 2; /* Higher than the beacon effect */
        }

        .beacon-effect::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 255, 0.3);
            border-radius: 50%;
            animation: pulse-animation 2s infinite;
            z-index: 1; /* Same as .beacon to keep effect beneath the icon */
        }
        .beacon:after {
            position: absolute;
            content: "";
            height: 3em;
            width: 3em;
            left: 0;
            top: 0;
            background-color: transparent;
            border-radius: 50%;
            box-shadow: 0 0 0 3px #1f41ed;
            -webkit-animation: active 2s infinite linear;
            -moz-animation: active 2s infinite linear;
            animation: active 3s infinite linear;
        }
        .menu-item.active {
            background-color: #007bff; /* Example active color, adjust as needed */
            color: white;
        }
        .menu-item {
            background-color: #000000 0.7; /* Example active color, adjust as needed */
            color: white;
        }
        .bottom-menu {
            display: flex;
            justify-content: space-around;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            height: 50px;
            background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent black */
            color: white;
            z-index: 1001;
        }
        @media (max-width: 768px) {
            .bottom-menu {
                height: 40px; /* Adjust for mobile */
            }
        }

        @-webkit-keyframes active {
            0% {
                -webkit-transform: scale(.1);
                opacity: 1;
            }
            100% {
                -webkit-transform: scale(2.5);
                opacity: 0;
            }
        }

        @keyframes-blue active {
            0% {
                transform: scale(.1);
                transform: box-shadow(0px 0px 0px 1px #1f41ed);
                opacity: 1;
            }
            100% {
                transform: scale(2.5);
                opacity: 0;
            }
        }
    </style>
    <script>
        !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
        posthog.init('phc_7JBpU7pfJomlCDgtNh0GgygKClYpYU52HOBX36qZRZx',{api_host:'https://eu.posthog.com'})
    </script>
</head>
<body>
<script>!function(t,e,a,n){function o(){if(!e.getElementById(a)){var t=e.getElementsByTagName(n)[0],o=e.createElement(n);o.type="text/javascript",o.async=!0,o.src="https://cdn.prodcamp.com/js/prdcmp-sdk.js",t.parentNode.insertBefore(o,t)}}if("function"!=typeof t.ProdCamp){var c=function(){c.args.push(arguments)};c.p="XHNWXMHQK",c.args=[],c.t=t.ProdCampSettings&&t.ProdCampSettings.token,c.f=true,t.ProdCamp=c,"complete"===e.readyState?o():t.attachEvent?t.attachEvent("onload",o):t.addEventListener("load",o,!1)}}(window,document,"prodcamp-js","script");</script>
<script>
    ProdCamp('initFeedbackWidget', {
        email: 'random@mail.com'
    });
</script>
<h3>Cyprus Buses Live</h3>
<div id="map"></div>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="./frontend.js"></script>
<div class="bottom-menu">
    <div><a href="#" class="menu-item active">Map</a></div>
    <div><a href="#" class="menu-item">Timetables (soon)</a></div>
    <div><a href="#" class="menu-item">Routes (soon)</a></div>
    <div><a href="#" class="menu-item">About (soon)</a></div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuItems = document.querySelectorAll('.menu-item');

        menuItems.forEach(item => {
            item.addEventListener('click', function() {
                menuItems.forEach(i => i.classList.remove('active')); // Remove active class from all items
                this.classList.add('active'); // Add active class to the clicked item
            });
        });
    });
</script>
</body>
</html>
